{"version":3,"file":"static/js/475.a69a2a61.chunk.js","mappings":"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","sources":["../node_modules/react-fast-marquee/src/components/Marquee.tsx","../node_modules/rematrix/dist/rematrix.es.js","../node_modules/flip-toolkit/src/utilities/index.ts","../node_modules/flip-toolkit/src/forked-rebound/onFrame.js","../node_modules/flip-toolkit/src/constants.ts","../node_modules/flip-toolkit/src/springSettings/index.ts","../node_modules/flip-toolkit/src/forked-rebound/util.js","../node_modules/flip-toolkit/src/forked-rebound/Loopers.js","../node_modules/flip-toolkit/src/forked-rebound/Spring.js","../node_modules/flip-toolkit/src/forked-rebound/SpringSystem.js","../node_modules/flip-toolkit/src/flip/animateFlippedElements/spring/index.ts","../node_modules/flip-toolkit/src/flip/animateFlippedElements/index.ts","../node_modules/flip-toolkit/src/flip/getFlippedElementPositions/utilities.ts","../node_modules/flip-toolkit/src/flip/index.ts","../node_modules/flip-toolkit/src/flip/getFlippedElementPositions/getFlippedElementPositionsAfterUpdate/index.ts","../node_modules/flip-toolkit/src/flip/animateUnflippedElements/index.ts","../node_modules/flip-toolkit/src/flip/getFlippedElementPositions/getFlippedElementPositionsBeforeUpdate/index.ts","../node_modules/flip-toolkit/src/Spring/index.ts","../node_modules/react-flip-toolkit/src/Flipper/context.ts","../node_modules/react-flip-toolkit/src/Flipper/index.tsx","../node_modules/react-flip-toolkit/src/Flipped/index.tsx","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/toPrimitive.js","../node_modules/@babel/runtime/helpers/toPropertyKey.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"],"sourcesContent":["import React, {\n  Fragment,\n  useEffect,\n  useState,\n  useRef,\n  useCallback,\n  useMemo,\n  ReactNode,\n  CSSProperties,\n  FC,\n  forwardRef,\n  Children,\n  MutableRefObject,\n  RefAttributes,\n} from \"react\";\nimport \"./Marquee.scss\";\n\ntype MarqueeProps = {\n  /**\n   * @description Inline style for the container div\n   * @type {CSSProperties}\n   * @default {}\n   */\n  style?: CSSProperties;\n  /**\n   * @description Class name to style the container div\n   * @type {string}\n   * @default \"\"\n   */\n  className?: string;\n  /**\n   * @description Whether to automatically fill blank space in the marquee with copies of the children or not\n   * @type {boolean}\n   * @default false\n   */\n  autoFill?: boolean;\n  /**\n   * @description Whether to play or pause the marquee\n   * @type {boolean}\n   * @default true\n   */\n  play?: boolean;\n  /**\n   * @description Whether to pause the marquee when hovered\n   * @type {boolean}\n   * @default false\n   */\n  pauseOnHover?: boolean;\n  /**\n   * @description Whether to pause the marquee when clicked\n   * @type {boolean}\n   * @default false\n   */\n  pauseOnClick?: boolean;\n  /**\n   * @description The direction the marquee is sliding\n   * @type {\"left\" | \"right\" | \"up\" | \"down\"}\n   * @default \"left\"\n   */\n  direction?: \"left\" | \"right\" | \"up\" | \"down\";\n  /**\n   * @description Speed calculated as pixels/second\n   * @type {number}\n   * @default 50\n   */\n  speed?: number;\n  /**\n   * @description Duration to delay the animation after render, in seconds\n   * @type {number}\n   * @default 0\n   */\n  delay?: number;\n  /**\n   * @description The number of times the marquee should loop, 0 is equivalent to infinite\n   * @type {number}\n   * @default 0\n   */\n  loop?: number;\n  /**\n   * @description Whether to show the gradient or not\n   * @type {boolean}\n   * @default false\n   */\n  gradient?: boolean;\n  /**\n   * @description The color of the gradient\n   * @type {string}\n   * @default \"white\"\n   */\n  gradientColor?: string;\n  /**\n   * @description The width of the gradient on either side\n   * @type {number | string}\n   * @default 200\n   */\n  gradientWidth?: number | string;\n  /**\n   * @description A callback for when the marquee finishes scrolling and stops. Only calls if loop is non-zero.\n   * @type {() => void}\n   * @default null\n   */\n  onFinish?: () => void;\n  /**\n   * @description A callback for when the marquee finishes a loop. Does not call if maximum loops are reached (use onFinish instead).\n   * @type {() => void}\n   * @default null\n   */\n  onCycleComplete?: () => void;\n  /**\n   * @description: A callback function that is invoked once the marquee has finished mounting. It can be utilized to recalculate the page size, if necessary.\n   * @type {() => void}\n   * @default null\n   */\n  onMount?: () => void;\n  /**\n   * @description The children rendered inside the marquee\n   * @type {ReactNode}\n   * @default null\n   */\n  children?: ReactNode;\n} & RefAttributes<HTMLDivElement>;\n\nconst Marquee: FC<MarqueeProps> = forwardRef(function Marquee(\n  {\n    style = {},\n    className = \"\",\n    autoFill = false,\n    play = true,\n    pauseOnHover = false,\n    pauseOnClick = false,\n    direction = \"left\",\n    speed = 50,\n    delay = 0,\n    loop = 0,\n    gradient = false,\n    gradientColor = \"white\",\n    gradientWidth = 200,\n    onFinish,\n    onCycleComplete,\n    onMount,\n    children,\n  },\n  ref\n) {\n  // React Hooks\n  const [containerWidth, setContainerWidth] = useState(0);\n  const [marqueeWidth, setMarqueeWidth] = useState(0);\n  const [multiplier, setMultiplier] = useState(1);\n  const [isMounted, setIsMounted] = useState(false);\n  const rootRef = useRef<HTMLDivElement>(null);\n  const containerRef = (ref as MutableRefObject<HTMLDivElement>) || rootRef;\n  const marqueeRef = useRef<HTMLDivElement>(null);\n\n  // Calculate width of container and marquee and set multiplier\n  const calculateWidth = useCallback(() => {\n    if (marqueeRef.current && containerRef.current) {\n      const containerRect = containerRef.current.getBoundingClientRect();\n      const marqueeRect = marqueeRef.current.getBoundingClientRect();\n      let containerWidth = containerRect.width;\n      let marqueeWidth = marqueeRect.width;\n\n      // Swap width and height if direction is up or down\n      if (direction === \"up\" || direction === \"down\") {\n        containerWidth = containerRect.height;\n        marqueeWidth = marqueeRect.height;\n      }\n\n      if (autoFill && containerWidth && marqueeWidth) {\n        setMultiplier(\n          marqueeWidth < containerWidth\n            ? Math.ceil(containerWidth / marqueeWidth)\n            : 1\n        );\n      } else {\n        setMultiplier(1);\n      }\n\n      setContainerWidth(containerWidth);\n      setMarqueeWidth(marqueeWidth);\n    }\n  }, [autoFill, containerRef, direction]);\n\n  // Calculate width and multiplier on mount and on window resize\n  useEffect(() => {\n    if (!isMounted) return;\n\n    calculateWidth();\n    if (marqueeRef.current && containerRef.current) {\n      const resizeObserver = new ResizeObserver(() => calculateWidth());\n      resizeObserver.observe(containerRef.current);\n      resizeObserver.observe(marqueeRef.current);\n      return () => {\n        if (!resizeObserver) return;\n        resizeObserver.disconnect();\n      };\n    }\n  }, [calculateWidth, containerRef, isMounted]);\n\n  // Recalculate width when children change\n  useEffect(() => {\n    calculateWidth();\n  }, [calculateWidth, children]);\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  // Runs the onMount callback, if it is a function, when Marquee is mounted.\n  useEffect(() => {\n    if (typeof onMount === \"function\") {\n      onMount();\n    }\n  }, []);\n\n  // Animation duration\n  const duration = useMemo(() => {\n    if (autoFill) {\n      return (marqueeWidth * multiplier) / speed;\n    } else {\n      return marqueeWidth < containerWidth\n        ? containerWidth / speed\n        : marqueeWidth / speed;\n    }\n  }, [autoFill, containerWidth, marqueeWidth, multiplier, speed]);\n\n  const containerStyle = useMemo(\n    () => ({\n      ...style,\n      [\"--pause-on-hover\" as string]:\n        !play || pauseOnHover ? \"paused\" : \"running\",\n      [\"--pause-on-click\" as string]:\n        !play || (pauseOnHover && !pauseOnClick) || pauseOnClick\n          ? \"paused\"\n          : \"running\",\n      [\"--width\" as string]:\n        direction === \"up\" || direction === \"down\" ? `100vh` : \"100%\",\n      [\"--transform\" as string]:\n        direction === \"up\"\n          ? \"rotate(-90deg)\"\n          : direction === \"down\"\n          ? \"rotate(90deg)\"\n          : \"none\",\n    }),\n    [style, play, pauseOnHover, pauseOnClick, direction]\n  );\n\n  const gradientStyle = useMemo(\n    () => ({\n      [\"--gradient-color\" as string]: gradientColor,\n      [\"--gradient-width\" as string]:\n        typeof gradientWidth === \"number\"\n          ? `${gradientWidth}px`\n          : gradientWidth,\n    }),\n    [gradientColor, gradientWidth]\n  );\n\n  const marqueeStyle = useMemo(\n    () => ({\n      [\"--play\" as string]: play ? \"running\" : \"paused\",\n      [\"--direction\" as string]: direction === \"left\" ? \"normal\" : \"reverse\",\n      [\"--duration\" as string]: `${duration}s`,\n      [\"--delay\" as string]: `${delay}s`,\n      [\"--iteration-count\" as string]: !!loop ? `${loop}` : \"infinite\",\n      [\"--min-width\" as string]: autoFill ? `auto` : \"100%\",\n    }),\n    [play, direction, duration, delay, loop, autoFill]\n  );\n\n  const childStyle = useMemo(\n    () => ({\n      [\"--transform\" as string]:\n        direction === \"up\"\n          ? \"rotate(90deg)\"\n          : direction === \"down\"\n          ? \"rotate(-90deg)\"\n          : \"none\",\n    }),\n    [direction]\n  );\n\n  // Render {multiplier} number of children\n  const multiplyChildren = useCallback(\n    (multiplier: number) => {\n      return [\n        ...Array(\n          Number.isFinite(multiplier) && multiplier >= 0 ? multiplier : 0\n        ),\n      ].map((_, i) => (\n        <Fragment key={i}>\n          {Children.map(children, (child) => {\n            return (\n              <div style={childStyle} className=\"rfm-child\">\n                {child}\n              </div>\n            );\n          })}\n        </Fragment>\n      ));\n    },\n    [childStyle, children]\n  );\n\n  return !isMounted ? null : (\n    <div\n      ref={containerRef}\n      style={containerStyle}\n      className={\"rfm-marquee-container \" + className}\n    >\n      {gradient && <div style={gradientStyle} className=\"rfm-overlay\" />}\n      <div\n        className=\"rfm-marquee\"\n        style={marqueeStyle}\n        onAnimationIteration={onCycleComplete}\n        onAnimationEnd={onFinish}\n      >\n        <div className=\"rfm-initial-child-container\" ref={marqueeRef}>\n          {Children.map(children, (child) => {\n            return (\n              <div style={childStyle} className=\"rfm-child\">\n                {child}\n              </div>\n            );\n          })}\n        </div>\n        {multiplyChildren(multiplier - 1)}\n      </div>\n      <div className=\"rfm-marquee\" style={marqueeStyle}>\n        {multiplyChildren(multiplier)}\n      </div>\n    </div>\n  );\n});\n\nexport default Marquee;\n","/*! @license Rematrix v0.2.2\n\n\tCopyright 2018 Fisssion LLC.\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy\n\tof this software and associated documentation files (the \"Software\"), to deal\n\tin the Software without restriction, including without limitation the rights\n\tto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n\tcopies of the Software, and to permit persons to whom the Software is\n\tfurnished to do so, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in\n\tall copies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n\tTHE SOFTWARE.\n*/\n/**\n * @module Rematrix\n */\n\n/**\n * Transformation matrices in the browser come in two flavors:\n *\n *  - `matrix` using 6 values (short)\n *  - `matrix3d` using 16 values (long)\n *\n * This utility follows this [conversion guide](https://goo.gl/EJlUQ1)\n * to expand short form matrices to their equivalent long form.\n *\n * @param  {array} source - Accepts both short and long form matrices.\n * @return {array}\n */\nfunction format(source) {\n\tif (source.constructor !== Array) {\n\t\tthrow new TypeError('Expected array.')\n\t}\n\tif (source.length === 16) {\n\t\treturn source\n\t}\n\tif (source.length === 6) {\n\t\tvar matrix = identity();\n\t\tmatrix[0] = source[0];\n\t\tmatrix[1] = source[1];\n\t\tmatrix[4] = source[2];\n\t\tmatrix[5] = source[3];\n\t\tmatrix[12] = source[4];\n\t\tmatrix[13] = source[5];\n\t\treturn matrix\n\t}\n\tthrow new RangeError('Expected array with either 6 or 16 values.')\n}\n\n/**\n * Returns a matrix representing no transformation. The product of any matrix\n * multiplied by the identity matrix will be the original matrix.\n *\n * > **Tip:** Similar to how `5 * 1 === 5`, where `1` is the identity.\n *\n * @return {array}\n */\nfunction identity() {\n\tvar matrix = [];\n\tfor (var i = 0; i < 16; i++) {\n\t\ti % 5 == 0 ? matrix.push(1) : matrix.push(0);\n\t}\n\treturn matrix\n}\n\n/**\n * Returns a matrix describing the inverse transformation of the source\n * matrix. The product of any matrix multiplied by its inverse will be the\n * identity matrix.\n *\n * > **Tip:** Similar to how `5 * (1/5) === 1`, where `1/5` is the inverse.\n *\n * @param  {array} source - Accepts both short and long form matrices.\n * @return {array}\n */\nfunction inverse(source) {\n\tvar m = format(source);\n\n\tvar s0 = m[0] * m[5] - m[4] * m[1];\n\tvar s1 = m[0] * m[6] - m[4] * m[2];\n\tvar s2 = m[0] * m[7] - m[4] * m[3];\n\tvar s3 = m[1] * m[6] - m[5] * m[2];\n\tvar s4 = m[1] * m[7] - m[5] * m[3];\n\tvar s5 = m[2] * m[7] - m[6] * m[3];\n\n\tvar c5 = m[10] * m[15] - m[14] * m[11];\n\tvar c4 = m[9] * m[15] - m[13] * m[11];\n\tvar c3 = m[9] * m[14] - m[13] * m[10];\n\tvar c2 = m[8] * m[15] - m[12] * m[11];\n\tvar c1 = m[8] * m[14] - m[12] * m[10];\n\tvar c0 = m[8] * m[13] - m[12] * m[9];\n\n\tvar determinant = 1 / (s0 * c5 - s1 * c4 + s2 * c3 + s3 * c2 - s4 * c1 + s5 * c0);\n\n\tif (isNaN(determinant) || determinant === Infinity) {\n\t\tthrow new Error('Inverse determinant attempted to divide by zero.')\n\t}\n\n\treturn [\n\t\t(m[5] * c5 - m[6] * c4 + m[7] * c3) * determinant,\n\t\t(-m[1] * c5 + m[2] * c4 - m[3] * c3) * determinant,\n\t\t(m[13] * s5 - m[14] * s4 + m[15] * s3) * determinant,\n\t\t(-m[9] * s5 + m[10] * s4 - m[11] * s3) * determinant,\n\n\t\t(-m[4] * c5 + m[6] * c2 - m[7] * c1) * determinant,\n\t\t(m[0] * c5 - m[2] * c2 + m[3] * c1) * determinant,\n\t\t(-m[12] * s5 + m[14] * s2 - m[15] * s1) * determinant,\n\t\t(m[8] * s5 - m[10] * s2 + m[11] * s1) * determinant,\n\n\t\t(m[4] * c4 - m[5] * c2 + m[7] * c0) * determinant,\n\t\t(-m[0] * c4 + m[1] * c2 - m[3] * c0) * determinant,\n\t\t(m[12] * s4 - m[13] * s2 + m[15] * s0) * determinant,\n\t\t(-m[8] * s4 + m[9] * s2 - m[11] * s0) * determinant,\n\n\t\t(-m[4] * c3 + m[5] * c1 - m[6] * c0) * determinant,\n\t\t(m[0] * c3 - m[1] * c1 + m[2] * c0) * determinant,\n\t\t(-m[12] * s3 + m[13] * s1 - m[14] * s0) * determinant,\n\t\t(m[8] * s3 - m[9] * s1 + m[10] * s0) * determinant\n\t]\n}\n\n/**\n * Returns a 4x4 matrix describing the combined transformations\n * of both arguments.\n *\n * > **Note:** Order is very important. For example, rotating 45°\n * along the Z-axis, followed by translating 500 pixels along the\n * Y-axis... is not the same as translating 500 pixels along the\n * Y-axis, followed by rotating 45° along on the Z-axis.\n *\n * @param  {array} m - Accepts both short and long form matrices.\n * @param  {array} x - Accepts both short and long form matrices.\n * @return {array}\n */\nfunction multiply(m, x) {\n\tvar fm = format(m);\n\tvar fx = format(x);\n\tvar product = [];\n\n\tfor (var i = 0; i < 4; i++) {\n\t\tvar row = [fm[i], fm[i + 4], fm[i + 8], fm[i + 12]];\n\t\tfor (var j = 0; j < 4; j++) {\n\t\t\tvar k = j * 4;\n\t\t\tvar col = [fx[k], fx[k + 1], fx[k + 2], fx[k + 3]];\n\t\t\tvar result =\n\t\t\t\trow[0] * col[0] + row[1] * col[1] + row[2] * col[2] + row[3] * col[3];\n\n\t\t\tproduct[i + k] = result;\n\t\t}\n\t}\n\n\treturn product\n}\n\n/**\n * Attempts to return a 4x4 matrix describing the CSS transform\n * matrix passed in, but will return the identity matrix as a\n * fallback.\n *\n * **Tip:** In virtually all cases, this method is used to convert\n * a CSS matrix (retrieved as a `string` from computed styles) to\n * its equivalent array format.\n *\n * @param  {string} source - String containing a valid CSS `matrix` or `matrix3d` property.\n * @return {array}\n */\nfunction parse(source) {\n\tif (typeof source === 'string') {\n\t\tvar match = source.match(/matrix(3d)?\\(([^)]+)\\)/);\n\t\tif (match) {\n\t\t\tvar raw = match[2].split(', ').map(parseFloat);\n\t\t\treturn format(raw)\n\t\t}\n\t}\n\treturn identity()\n}\n\n/**\n * Returns a 4x4 matrix describing Z-axis rotation.\n *\n * @param  {number} angle - Measured in degrees.\n * @return {array}\n */\nfunction rotate(angle) {\n\treturn rotateZ(angle)\n}\n\n/**\n * Returns a 4x4 matrix describing X-axis rotation.\n *\n * @param  {number} angle - Measured in degrees.\n * @return {array}\n */\nfunction rotateX(angle) {\n\tvar theta = Math.PI / 180 * angle;\n\tvar matrix = identity();\n\n\tmatrix[5] = matrix[10] = Math.cos(theta);\n\tmatrix[6] = matrix[9] = Math.sin(theta);\n\tmatrix[9] *= -1;\n\n\treturn matrix\n}\n\n/**\n * Returns a 4x4 matrix describing Y-axis rotation.\n *\n * @param  {number} angle - Measured in degrees.\n * @return {array}\n */\nfunction rotateY(angle) {\n\tvar theta = Math.PI / 180 * angle;\n\tvar matrix = identity();\n\n\tmatrix[0] = matrix[10] = Math.cos(theta);\n\tmatrix[2] = matrix[8] = Math.sin(theta);\n\tmatrix[2] *= -1;\n\n\treturn matrix\n}\n\n/**\n * Returns a 4x4 matrix describing Z-axis rotation.\n *\n * @param  {number} angle - Measured in degrees.\n * @return {array}\n */\nfunction rotateZ(angle) {\n\tvar theta = Math.PI / 180 * angle;\n\tvar matrix = identity();\n\n\tmatrix[0] = matrix[5] = Math.cos(theta);\n\tmatrix[1] = matrix[4] = Math.sin(theta);\n\tmatrix[4] *= -1;\n\n\treturn matrix\n}\n\n/**\n * Returns a 4x4 matrix describing 2D scaling. The first argument\n * is used for both X and Y-axis scaling, unless an optional\n * second argument is provided to explicitly define Y-axis scaling.\n *\n * @param  {number} scalar    - Decimal multiplier.\n * @param  {number} [scalarY] - Decimal multiplier.\n * @return {array}\n */\nfunction scale(scalar, scalarY) {\n\tvar matrix = identity();\n\n\tmatrix[0] = scalar;\n\tmatrix[5] = typeof scalarY === 'number' ? scalarY : scalar;\n\n\treturn matrix\n}\n\n/**\n * Returns a 4x4 matrix describing X-axis scaling.\n *\n * @param  {number} scalar - Decimal multiplier.\n * @return {array}\n */\nfunction scaleX(scalar) {\n\tvar matrix = identity();\n\tmatrix[0] = scalar;\n\treturn matrix\n}\n\n/**\n * Returns a 4x4 matrix describing Y-axis scaling.\n *\n * @param  {number} scalar - Decimal multiplier.\n * @return {array}\n */\nfunction scaleY(scalar) {\n\tvar matrix = identity();\n\tmatrix[5] = scalar;\n\treturn matrix\n}\n\n/**\n * Returns a 4x4 matrix describing Z-axis scaling.\n *\n * @param  {number} scalar - Decimal multiplier.\n * @return {array}\n */\nfunction scaleZ(scalar) {\n\tvar matrix = identity();\n\tmatrix[10] = scalar;\n\treturn matrix\n}\n\n/**\n * Returns a 4x4 matrix describing shear. The first argument\n * defines X-axis shearing, and an optional second argument\n * defines Y-axis shearing.\n *\n * @param  {number} angleX   - Measured in degrees.\n * @param  {number} [angleY] - Measured in degrees.\n * @return {array}\n */\nfunction skew(angleX, angleY) {\n\tvar thetaX = Math.PI / 180 * angleX;\n\tvar matrix = identity();\n\n\tmatrix[4] = Math.tan(thetaX);\n\n\tif (angleY) {\n\t\tvar thetaY = Math.PI / 180 * angleY;\n\t\tmatrix[1] = Math.tan(thetaY);\n\t}\n\n\treturn matrix\n}\n\n/**\n * Returns a 4x4 matrix describing X-axis shear.\n *\n * @param  {number} angle - Measured in degrees.\n * @return {array}\n */\nfunction skewX(angle) {\n\tvar theta = Math.PI / 180 * angle;\n\tvar matrix = identity();\n\n\tmatrix[4] = Math.tan(theta);\n\n\treturn matrix\n}\n\n/**\n * Returns a 4x4 matrix describing Y-axis shear.\n *\n * @param  {number} angle - Measured in degrees\n * @return {array}\n */\nfunction skewY(angle) {\n\tvar theta = Math.PI / 180 * angle;\n\tvar matrix = identity();\n\n\tmatrix[1] = Math.tan(theta);\n\n\treturn matrix\n}\n\n/**\n * Returns a 4x4 matrix describing 2D translation. The first\n * argument defines X-axis translation, and an optional second\n * argument defines Y-axis translation.\n *\n * @param  {number} distanceX   - Measured in pixels.\n * @param  {number} [distanceY] - Measured in pixels.\n * @return {array}\n */\nfunction translate(distanceX, distanceY) {\n\tvar matrix = identity();\n\tmatrix[12] = distanceX;\n\n\tif (distanceY) {\n\t\tmatrix[13] = distanceY;\n\t}\n\n\treturn matrix\n}\n\n/**\n * Returns a 4x4 matrix describing X-axis translation.\n *\n * @param  {number} distance - Measured in pixels.\n * @return {array}\n */\nfunction translateX(distance) {\n\tvar matrix = identity();\n\tmatrix[12] = distance;\n\treturn matrix\n}\n\n/**\n * Returns a 4x4 matrix describing Y-axis translation.\n *\n * @param  {number} distance - Measured in pixels.\n * @return {array}\n */\nfunction translateY(distance) {\n\tvar matrix = identity();\n\tmatrix[13] = distance;\n\treturn matrix\n}\n\n/**\n * Returns a 4x4 matrix describing Z-axis translation.\n *\n * @param  {number} distance - Measured in pixels.\n * @return {array}\n */\nfunction translateZ(distance) {\n\tvar matrix = identity();\n\tmatrix[14] = distance;\n\treturn matrix\n}\n\nexport { format, identity, inverse, multiply, parse, rotate, rotateX, rotateY, rotateZ, scale, scaleX, scaleY, scaleZ, skew, skewX, skewY, translate, translateX, translateY, translateZ };\n","import { IndexableObject } from './types'\n\nexport const isNumber = (x: any) => typeof x === 'number'\n\nexport const isFunction = (x: any) => typeof x === 'function'\n\nexport const isObject = (x: any) =>\n  Object.prototype.toString.call(x) === '[object Object]'\n\nexport const toArray = (arrayLike: ArrayLike<any>) =>\n  Array.prototype.slice.apply(arrayLike)\n\nexport const getDuplicateValsAsStrings = (arr: string[]): string[] => {\n  const baseObj: IndexableObject = {}\n  const obj = arr.reduce((acc, curr) => {\n    acc[curr] = (acc[curr] || 0) + 1\n    return acc\n  }, baseObj)\n  return Object.keys(obj).filter(val => obj[val] > 1)\n}\n\n// tslint only likes this with a regular function, not an arrow function\nexport function assign(target: IndexableObject, ...args: IndexableObject[]) {\n  args.forEach(arg => {\n    if (!arg) {\n      return\n    }\n    // Skip over if undefined or null\n    for (const nextKey in arg) {\n      // Avoid bugs when hasOwnProperty is shadowed\n      if (Object.prototype.hasOwnProperty.call(arg, nextKey)) {\n        target[nextKey] = arg[nextKey]\n      }\n    }\n  })\n  return target\n}\n\nexport const tweenProp = (start: number, end: number, position: number) =>\n  start + (end - start) * position\n","/**\n *  Copyright (c) 2013, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n *\n *\n */\n\nlet _onFrame\nif (typeof window !== \"undefined\") {\n  _onFrame = window.requestAnimationFrame\n}\n\n_onFrame =\n  _onFrame ||\n  function(callback) {\n    window.setTimeout(callback, 1000 / 60)\n  }\n\nexport default _onFrame\n","export const DATA_FLIP_ID = 'data-flip-id'\nexport const DATA_INVERSE_FLIP_ID = 'data-inverse-flip-id'\nexport const DATA_FLIP_COMPONENT_ID = 'data-flip-component-id'\nexport const DATA_FLIP_CONFIG = 'data-flip-config'\nexport const DATA_PORTAL_KEY = 'data-portal-key'\nexport const DATA_EXIT_CONTAINER = 'data-exit-container'\n","import { isObject, assign } from '../utilities'\nimport { SpringPresets, SpringConfig, SpringOption } from './types'\n\n// adapted from\n// https://github.com/chenglou/react-motion/blob/master/src/presets.js\nexport const springPresets: SpringPresets = {\n  noWobble: { stiffness: 200, damping: 26 },\n  gentle: { stiffness: 120, damping: 14 },\n  veryGentle: { stiffness: 130, damping: 17 },\n  wobbly: { stiffness: 180, damping: 12 },\n  stiff: { stiffness: 260, damping: 26 }\n}\n\nfunction argIsSpringConfig(\n  arg: SpringConfig | keyof SpringPresets | undefined\n): arg is SpringConfig {\n  return isObject(arg)\n}\n\nexport const normalizeSpring = (\n  spring?: SpringConfig | keyof SpringPresets | any\n) => {\n  if (argIsSpringConfig(spring)) {\n    return spring\n  } else if (Object.keys(springPresets).indexOf(spring) > -1) {\n    return springPresets[spring]\n  } else {\n    return {}\n  }\n}\n\nexport const getSpringConfig = ({\n  flipperSpring,\n  flippedSpring\n}: { flipperSpring?: SpringOption; flippedSpring?: SpringOption } = {}) => {\n  return assign(\n    {},\n    springPresets.noWobble,\n    normalizeSpring(flipperSpring),\n    normalizeSpring(flippedSpring)\n  )\n}\n","/**\n *  Copyright (c) 2013, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n *\n *\n */\n\nexport { default as onFrame } from './onFrame'\n\nconst start = Date.now()\nexport const performanceNow =\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now() - start\n\n// Lop off the first occurence of the reference in the Array.\nexport function removeFirst(array, item) {\n  const idx = array.indexOf(item)\n  idx !== -1 && array.splice(idx, 1)\n}\n","/**\n *  Copyright (c) 2013, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n *\n *\n */\n\nimport { onFrame, performanceNow } from \"./util\"\n\n/**\n * Plays each frame of the SpringSystem on animation\n * timing loop. This is the default type of looper for a new spring system\n * as it is the most common when developing UI.\n * @public\n */\nexport class AnimationLooper {\n  run() {\n    onFrame(() => {\n      this.springSystem.loop(performanceNow())\n    })\n  }\n}\n","/**\n *  Copyright (c) 2013, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n *\n *\n */\n\nimport { removeFirst } from './util'\n\nclass PhysicsState {\n  constructor() {\n    this.position = 0\n    this.velocity = 0\n  }\n}\n\nlet ID = 0\nconst MAX_DELTA_TIME_SEC = 0.064\nconst SOLVER_TIMESTEP_SEC = 0.001\n\n/**\n * Provides a model of a classical spring acting to\n * resolve a body to equilibrium. Springs have configurable\n * tension which is a force multipler on the displacement of the\n * spring from its rest point or `endValue` as defined by [Hooke's\n * law](http://en.wikipedia.org/wiki/Hooke's_law). Springs also have\n * configurable friction, which ensures that they do not oscillate\n * infinitely. When a Spring is displaced by updating it's resting\n * or `currentValue`, the SpringSystems that contain that Spring\n * will automatically start looping to solve for equilibrium. As each\n * timestep passes, `SpringListener` objects attached to the Spring\n * will be notified of the updates providing a way to drive an\n * animation off of the spring's resolution curve.\n * @public\n */\nclass Spring {\n  constructor(springSystem) {\n    this._id = `s${ID++}`\n    this._springSystem = springSystem\n\n    this.listeners = []\n    this._startValue = 0\n\n    this._currentState = new PhysicsState()\n    this._displacementFromRestThreshold = 0.001\n    this._endValue = 0\n    this._overshootClampingEnabled = false\n    this._previousState = new PhysicsState()\n    this._restSpeedThreshold = 0.001\n\n    this._tempState = new PhysicsState()\n    this._timeAccumulator = 0\n    this._wasAtRest = true\n    // hack from alex -- only call 1x\n    this._onActivateCalled\n    this._cachedSpringConfig = {}\n  }\n\n  getId() {\n    return this._id\n  }\n\n  /**\n   * Remove a Spring from simulation and clear its listeners.\n   * @public\n   */\n  destroy() {\n    this.listeners = []\n    this._springSystem.deregisterSpring(this)\n  }\n\n  /**\n   * Set the configuration values for this Spring. A SpringConfig\n   * contains the tension and friction values used to solve for the\n   * equilibrium of the Spring in the physics loop.\n   * @public\n   */\n  setSpringConfig(springConfig) {\n    this._springConfig = springConfig\n    return this\n  }\n  /**\n   * Retrieve the current value of the Spring.\n   * @public\n   */\n  getCurrentValue() {\n    return this._currentState.position\n  }\n\n  /**\n   * Get the absolute distance of the Spring from a given state value\n   */\n  getDisplacementDistanceForState(state) {\n    return Math.abs(this._endValue - state.position)\n  }\n\n  /**\n   * Set the endValue or resting position of the spring. If this\n   * value is different than the current value, the SpringSystem will\n   * be notified and will begin running its solver loop to resolve\n   * the Spring to equilibrium. Any listeners that are registered\n   * for onSpringEndStateChange will also be notified of this update\n   * immediately.\n   * @public\n   */\n\n  setEndValue(endValue) {\n    if (endValue === this._endValue) return this\n    this.prevEndValue = endValue\n    if (this._endValue === endValue && this.isAtRest()) {\n      return this\n    }\n    this._startValue = this.getCurrentValue()\n    this._endValue = endValue\n    this._springSystem.activateSpring(this.getId())\n    for (let i = 0, len = this.listeners.length; i < len; i++) {\n      const listener = this.listeners[i]\n      const onChange = listener.onSpringEndStateChange\n      onChange && onChange(this)\n    }\n    return this\n  }\n\n  /**\n   * Set the current velocity of the Spring, in pixels per second. As\n   * previously mentioned, this can be useful when you are performing\n   * a direct manipulation gesture. When a UI element is released you\n   * may call setVelocity on its animation Spring so that the Spring\n   * continues with the same velocity as the gesture ended with. The\n   * friction, tension, and displacement of the Spring will then\n   * govern its motion to return to rest on a natural feeling curve.\n   * @public\n   */\n  setVelocity(velocity) {\n    if (velocity === this._currentState.velocity) {\n      return this\n    }\n    this._currentState.velocity = velocity\n    this._springSystem.activateSpring(this.getId())\n    return this\n  }\n\n  setCurrentValue(currentValue) {\n    this._startValue = currentValue\n    this._currentState.position = currentValue\n    for (var i = 0, len = this.listeners.length; i < len; i++) {\n      var listener = this.listeners[i]\n      listener.onSpringUpdate && listener.onSpringUpdate(this)\n    }\n    return this\n  }\n\n  setAtRest() {\n    this._endValue = this._currentState.position\n    this._tempState.position = this._currentState.position\n    this._currentState.velocity = 0\n    return this\n  }\n\n  /**\n   * Enable overshoot clamping. This means that the Spring will stop\n   * immediately when it reaches its resting position regardless of\n   * any existing momentum it may have. This can be useful for certain\n   * types of animations that should not oscillate such as a scale\n   * down to 0 or alpha fade.\n   * @public\n   */\n  setOvershootClampingEnabled(enabled) {\n    this._overshootClampingEnabled = enabled\n    return this\n  }\n\n  /**\n   * Check if the Spring has gone past its end point by comparing\n   * the direction it was moving in when it started to the current\n   * position and end value.\n   * @public\n   */\n  isOvershooting() {\n    const start = this._startValue\n    const end = this._endValue\n    return (\n      this._springConfig.tension > 0 &&\n      ((start < end && this.getCurrentValue() > end) ||\n        (start > end && this.getCurrentValue() < end))\n    )\n  }\n\n  /**\n   * The main solver method for the Spring. It takes\n   * the current time and delta since the last time step and performs\n   * an RK4 integration to get the new position and velocity state\n   * for the Spring based on the tension, friction, velocity, and\n   * displacement of the Spring.\n   * @public\n   */\n  advance(time, realDeltaTime) {\n    let isAtRest = this.isAtRest()\n\n    if (isAtRest && this._wasAtRest) {\n      return\n    }\n\n    let adjustedDeltaTime = realDeltaTime\n    if (realDeltaTime > MAX_DELTA_TIME_SEC) {\n      adjustedDeltaTime = MAX_DELTA_TIME_SEC\n    }\n\n    this._timeAccumulator += adjustedDeltaTime\n\n    const tension = this._springConfig.tension\n    const friction = this._springConfig.friction\n    let position = this._currentState.position\n    let velocity = this._currentState.velocity\n    let tempPosition = this._tempState.position\n    let tempVelocity = this._tempState.velocity\n    let aVelocity\n    let aAcceleration\n    let bVelocity\n    let bAcceleration\n    let cVelocity\n    let cAcceleration\n    let dVelocity\n    let dAcceleration\n    let dxdt\n    let dvdt\n\n    while (this._timeAccumulator >= SOLVER_TIMESTEP_SEC) {\n      this._timeAccumulator -= SOLVER_TIMESTEP_SEC\n\n      if (this._timeAccumulator < SOLVER_TIMESTEP_SEC) {\n        this._previousState.position = position\n        this._previousState.velocity = velocity\n      }\n\n      aVelocity = velocity\n      aAcceleration =\n        tension * (this._endValue - tempPosition) - friction * velocity\n\n      tempPosition = position + aVelocity * SOLVER_TIMESTEP_SEC * 0.5\n      tempVelocity = velocity + aAcceleration * SOLVER_TIMESTEP_SEC * 0.5\n      bVelocity = tempVelocity\n      bAcceleration =\n        tension * (this._endValue - tempPosition) - friction * tempVelocity\n\n      tempPosition = position + bVelocity * SOLVER_TIMESTEP_SEC * 0.5\n      tempVelocity = velocity + bAcceleration * SOLVER_TIMESTEP_SEC * 0.5\n      cVelocity = tempVelocity\n      cAcceleration =\n        tension * (this._endValue - tempPosition) - friction * tempVelocity\n\n      tempPosition = position + cVelocity * SOLVER_TIMESTEP_SEC\n      tempVelocity = velocity + cAcceleration * SOLVER_TIMESTEP_SEC\n      dVelocity = tempVelocity\n      dAcceleration =\n        tension * (this._endValue - tempPosition) - friction * tempVelocity\n\n      dxdt =\n        (1.0 / 6.0) * (aVelocity + 2.0 * (bVelocity + cVelocity) + dVelocity)\n      dvdt =\n        (1.0 / 6.0) *\n        (aAcceleration + 2.0 * (bAcceleration + cAcceleration) + dAcceleration)\n\n      position += dxdt * SOLVER_TIMESTEP_SEC\n      velocity += dvdt * SOLVER_TIMESTEP_SEC\n    }\n\n    this._tempState.position = tempPosition\n    this._tempState.velocity = tempVelocity\n\n    this._currentState.position = position\n    this._currentState.velocity = velocity\n\n    if (this._timeAccumulator > 0) {\n      this._interpolate(this._timeAccumulator / SOLVER_TIMESTEP_SEC)\n    }\n\n    if (\n      this.isAtRest() ||\n      (this._overshootClampingEnabled && this.isOvershooting())\n    ) {\n      if (this._springConfig.tension > 0) {\n        this._startValue = this._endValue\n        this._currentState.position = this._endValue\n      } else {\n        this._endValue = this._currentState.position\n        this._startValue = this._endValue\n      }\n      this.setVelocity(0)\n      isAtRest = true\n    }\n\n    let notifyActivate = false\n    if (this._wasAtRest) {\n      this._wasAtRest = false\n      notifyActivate = true\n    }\n\n    let notifyAtRest = false\n    if (isAtRest) {\n      this._wasAtRest = true\n      notifyAtRest = true\n    }\n\n    this.notifyPositionUpdated(notifyActivate, notifyAtRest)\n  }\n\n  notifyPositionUpdated(notifyActivate, notifyAtRest) {\n    this.listeners.filter(Boolean).forEach(listener => {\n      if (\n        notifyActivate &&\n        listener.onSpringActivate &&\n        !this._onActivateCalled\n      ) {\n        listener.onSpringActivate(this)\n        this._onActivateCalled = true\n      }\n\n      if (listener.onSpringUpdate) {\n        listener.onSpringUpdate(this)\n      }\n\n      if (notifyAtRest && listener.onSpringAtRest) {\n        listener.onSpringAtRest(this)\n      }\n    })\n  }\n\n  /**\n   * Check if the SpringSystem should advance. Springs are advanced\n   * a final frame after they reach equilibrium to ensure that the\n   * currentValue is exactly the requested endValue regardless of the\n   * displacement threshold.\n   * @public\n   */\n  systemShouldAdvance() {\n    return !this.isAtRest() || !this.wasAtRest()\n  }\n\n  wasAtRest() {\n    return this._wasAtRest\n  }\n\n  /**\n   * Check if the Spring is atRest meaning that it's currentValue and\n   * endValue are the same and that it has no velocity. The previously\n   * described thresholds for speed and displacement define the bounds\n   * of this equivalence check. If the Spring has 0 tension, then it will\n   * be considered at rest whenever its absolute velocity drops below the\n   * restSpeedThreshold.\n   * @public\n   */\n  isAtRest() {\n    const isAtRest =\n      Math.abs(this._currentState.velocity) < this._restSpeedThreshold &&\n      (this.getDisplacementDistanceForState(this._currentState) <=\n        this._displacementFromRestThreshold ||\n        this._springConfig.tension === 0)\n    return isAtRest\n  }\n\n  _interpolate(alpha) {\n    this._currentState.position =\n      this._currentState.position * alpha +\n      this._previousState.position * (1 - alpha)\n    this._currentState.velocity =\n      this._currentState.velocity * alpha +\n      this._previousState.velocity * (1 - alpha)\n  }\n\n  addListener(newListener) {\n    this.listeners.push(newListener)\n    return this\n  }\n\n  addOneTimeListener(newListener) {\n    const oneTimeFunc = func => (...args) => {\n      func(...args)\n      this.removeListener(newListener)\n    }\n    Object.keys(newListener).forEach(key => {\n      newListener[key] = oneTimeFunc(newListener[key])\n    })\n    this.listeners.push(newListener)\n    return this\n  }\n\n  removeListener(listenerToRemove) {\n    removeFirst(this.listeners, listenerToRemove)\n    return this\n  }\n}\n\nexport default Spring\n","//\n/**\n *  Copyright (c) 2013, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\nimport { AnimationLooper } from './Loopers'\nimport Spring from './Spring'\nimport { removeFirst } from './util'\n\n/**\n * A set of Springs that all run on the same physics\n * timing loop. To get started with a Rebound animation, first\n * create a new SpringSystem and then add springs to it.\n * @public\n */\nclass SpringSystem {\n  constructor(looper) {\n    this.looper = looper || new AnimationLooper()\n    this.looper.springSystem = this\n\n    this.listeners = []\n    this._activeSprings = []\n    this._idleSpringIndices = []\n    this._isIdle = true\n    this._lastTimeMillis = -1\n    this._springRegistry = {}\n  }\n\n  /**\n   * Add a new spring to this SpringSystem. This Spring will now be solved for\n   * during the physics iteration loop. By default the spring will use the\n   * default Origami spring config with 40 tension and 7 friction, but you can\n   * also provide your own values here.\n   * @public\n   */\n  createSpring(tension, friction) {\n    return this.createSpringWithConfig({ tension, friction })\n  }\n  /**\n   * Add a spring with the provided SpringConfig.\n   * @public\n   */\n  createSpringWithConfig(springConfig) {\n    const spring = new Spring(this)\n    this.registerSpring(spring)\n    spring.setSpringConfig(springConfig)\n    return spring\n  }\n\n  /**\n   * Check if a SpringSystem is idle or active. If all of the Springs in the\n   * SpringSystem are at rest, i.e. the physics forces have reached equilibrium,\n   * then this method will return true.\n   * @public\n   */\n  getIsIdle() {\n    return this._isIdle\n  }\n\n  /**\n   * Manually add a spring to this system. This is called automatically\n   * if a Spring is created with SpringSystem#createSpring.\n   *\n   * This method sets the spring up in the registry so that it can be solved\n   * in the solver loop.\n   * @public\n   */\n  registerSpring(spring) {\n    this._springRegistry[spring.getId()] = spring\n  }\n\n  /**\n   * Deregister a spring with this SpringSystem. The SpringSystem will\n   * no longer consider this Spring during its integration loop once\n   * this is called. This is normally done automatically for you when\n   * you call Spring#destroy.\n   * @public\n   */\n  deregisterSpring(spring) {\n    removeFirst(this._activeSprings, spring)\n    delete this._springRegistry[spring.getId()]\n  }\n\n  advance(time, deltaTime) {\n    while (this._idleSpringIndices.length > 0) {\n      this._idleSpringIndices.pop()\n    }\n    this._activeSprings.filter(Boolean).forEach(spring => {\n      if (spring.systemShouldAdvance()) {\n        spring.advance(time / 1000.0, deltaTime / 1000.0)\n      } else {\n        this._idleSpringIndices.push(this._activeSprings.indexOf(spring))\n      }\n    })\n\n    while (this._idleSpringIndices.length > 0) {\n      const idx = this._idleSpringIndices.pop()\n      idx >= 0 && this._activeSprings.splice(idx, 1)\n    }\n  }\n\n  /**\n   * This is the main solver loop called to move the simulation\n   * forward through time. Before each pass in the solver loop\n   * onBeforeIntegrate is called on an any listeners that have\n   * registered themeselves with the SpringSystem. This gives you\n   * an opportunity to apply any constraints or adjustments to\n   * the springs that should be enforced before each iteration\n   * loop. Next the advance method is called to move each Spring in\n   * the systemShouldAdvance forward to the current time. After the\n   * integration step runs in advance, onAfterIntegrate is called\n   * on any listeners that have registered themselves with the\n   * SpringSystem. This gives you an opportunity to run any post\n   * integration constraints or adjustments on the Springs in the\n   * SpringSystem.\n   * @public\n   */\n  loop(currentTimeMillis) {\n    let listener\n    if (this._lastTimeMillis === -1) {\n      this._lastTimeMillis = currentTimeMillis - 1\n    }\n    const ellapsedMillis = currentTimeMillis - this._lastTimeMillis\n    this._lastTimeMillis = currentTimeMillis\n\n    let i = 0\n    const len = this.listeners.length\n    for (i = 0; i < len; i++) {\n      listener = this.listeners[i]\n      listener.onBeforeIntegrate && listener.onBeforeIntegrate(this)\n    }\n\n    this.advance(currentTimeMillis, ellapsedMillis)\n    if (this._activeSprings.length === 0) {\n      this._isIdle = true\n      this._lastTimeMillis = -1\n    }\n\n    for (i = 0; i < len; i++) {\n      listener = this.listeners[i]\n      listener.onAfterIntegrate && listener.onAfterIntegrate(this)\n    }\n\n    if (!this._isIdle) {\n      this.looper.run()\n    }\n  }\n\n  /**\n   * Used to notify the SpringSystem that a Spring has become displaced.\n   * The system responds by starting its solver loop up if it is currently idle.\n   */\n  activateSpring(springId) {\n    const spring = this._springRegistry[springId]\n    if (this._activeSprings.indexOf(spring) === -1) {\n      this._activeSprings.push(spring)\n    }\n    if (this.getIsIdle()) {\n      this._isIdle = false\n      this.looper.run()\n    }\n  }\n}\n\nexport default SpringSystem\n","import { SpringSystem } from '../../../forked-rebound'\nimport { StaggerConfigValue } from '../../../types'\nimport { FlipData, FlipDataArray } from '../types'\nimport {\n  SpringSystemInterface,\n  AddListenerArgs\n} from '../../../forked-rebound/types'\n\n// this should get created only 1x\nconst springSystem: SpringSystemInterface = new SpringSystem()\n\nexport const createSuspendedSpring = (flipData: FlipData) => {\n  const {\n    springConfig: { stiffness, damping, overshootClamping },\n    getOnUpdateFunc,\n    onAnimationEnd,\n    onSpringActivate\n  } = flipData\n\n  const spring = springSystem.createSpring(stiffness!, damping!)\n  spring.setOvershootClampingEnabled(!!overshootClamping)\n  const onSpringAtRest = () => {\n    // prevent SpringSystem from caching unused springs\n    spring.destroy()\n    onAnimationEnd()\n  }\n\n  const springConfig: AddListenerArgs = {\n    onSpringActivate,\n    onSpringAtRest,\n    onSpringUpdate: getOnUpdateFunc({\n      spring,\n      onAnimationEnd\n    })\n  }\n\n  spring.addListener(springConfig)\n  return spring\n}\n\nexport const createSpring = (flipped: FlipData) => {\n  const spring = createSuspendedSpring(flipped)\n  spring.setEndValue(1)\n  return spring\n}\n\nexport const normalizeSpeed = (speedConfig: number | undefined) => {\n  if (typeof speedConfig !== 'number') return 1.1\n  return 1 + Math.min(Math.max(speedConfig * 5, 0), 5)\n}\n\nexport const createStaggeredSprings = (\n  flippedArray: FlipDataArray,\n  staggerConfig: StaggerConfigValue = {}\n) => {\n  if (!flippedArray || !flippedArray.length) {\n    return\n  }\n\n  if (staggerConfig.reverse) {\n    flippedArray.reverse()\n  }\n\n  const normalizedSpeed = normalizeSpeed(staggerConfig.speed)\n\n  const nextThreshold = 1 / Math.max(Math.min(flippedArray.length, 100), 10)\n\n  const setEndValueFuncs = flippedArray\n    .map((flipped, i) => {\n      const cachedGetOnUpdate = flipped.getOnUpdateFunc\n\n      // modify the update function to adjust\n      // the end value of the trailing Flipped component\n      flipped.getOnUpdateFunc = args => {\n        const onUpdate = cachedGetOnUpdate(args)\n        return spring => {\n          let currentValue = spring.getCurrentValue()\n          // make sure trailing animations complete\n          currentValue =\n            currentValue < 0.01 ? 0 : currentValue > 0.99 ? 1 : currentValue\n\n          const updateTrailingAnimation = currentValue >= nextThreshold\n          if (updateTrailingAnimation) {\n            if (setEndValueFuncs[i + 1]) {\n              setEndValueFuncs[i + 1]!(\n                Math.max(Math.min(currentValue * normalizedSpeed, 1), 0)\n              )\n            }\n          }\n          // now call the actual update function\n          onUpdate(spring)\n        }\n      }\n      return flipped\n    })\n    .map(flipped => {\n      const spring = createSuspendedSpring(flipped)\n      if (!spring) {\n        return\n      }\n      return spring.setEndValue.bind(spring)\n    })\n    .filter(Boolean)\n\n  if (setEndValueFuncs[0]) {\n    setEndValueFuncs[0]!(1)\n  }\n}\n","import * as Rematrix from 'rematrix'\nimport { getSpringConfig } from '../../springSettings'\nimport {\n  toArray,\n  isFunction,\n  isNumber,\n  getDuplicateValsAsStrings,\n  assign,\n  tweenProp\n} from '../../utilities'\nimport * as constants from '../../constants'\nimport {\n  GetOnUpdateFunc,\n  OnUpdate,\n  Matrix,\n  InvertedChildren,\n  AnimateFlippedElementsArgs,\n  AnimatedVals,\n  FlipDataArray,\n  FlipData,\n  InitializeFlip\n} from './types'\nimport { BoundingClientRect } from '../getFlippedElementPositions/types'\nimport { FlippedIds } from '../types'\nimport { createSpring, createStaggeredSprings } from './spring'\nimport { IndexableObject } from '../../utilities/types'\nimport { FlipId } from '../../types'\n\n// 3d transforms were causing weird issues in chrome,\n// especially when opacity was also being tweened,\n// so convert to a 2d matrix\nexport const convertMatrix3dArrayTo2dArray = (matrix: Matrix): Matrix =>\n  [0, 1, 4, 5, 12, 13].map(index => matrix[index])\n\nexport const convertMatrix2dArrayToString = (matrix: Matrix) =>\n  `matrix(${matrix.join(', ')})`\n\nexport const invertTransformsForChildren = ({\n  invertedChildren,\n  matrix,\n  body\n}: {\n  matrix: Matrix\n  body: HTMLBodyElement\n  invertedChildren: InvertedChildren\n}) => {\n  invertedChildren.forEach(([child, childFlipConfig]) => {\n    if (!body.contains(child)) {\n      return\n    }\n    const scaleX = matrix[0]\n    const scaleY = matrix[3]\n    const translateX = matrix[4]\n    const translateY = matrix[5]\n\n    const inverseVals = { translateX: 0, translateY: 0, scaleX: 1, scaleY: 1 }\n    let transformString = ''\n    if (childFlipConfig.translate) {\n      inverseVals.translateX = -translateX / scaleX\n      inverseVals.translateY = -translateY / scaleY\n      transformString += `translate(${inverseVals.translateX}px, ${inverseVals.translateY}px)`\n    }\n    if (childFlipConfig.scale) {\n      inverseVals.scaleX = 1 / scaleX\n      inverseVals.scaleY = 1 / scaleY\n      transformString += ` scale(${inverseVals.scaleX}, ${inverseVals.scaleY})`\n    }\n    child.style.transform = transformString\n  })\n}\n\nexport const createApplyStylesFunc =\n  ({\n    element,\n    invertedChildren,\n    body\n  }: {\n    element: HTMLElement\n    invertedChildren: InvertedChildren\n    body: HTMLBodyElement\n  }) =>\n  ({\n    matrix,\n    opacity,\n    forceMinVals\n  }: {\n    matrix: Matrix\n    opacity?: number\n    forceMinVals?: boolean\n  }) => {\n    if (isNumber(opacity)) {\n      element.style.opacity = opacity + ''\n    }\n\n    if (forceMinVals) {\n      element.style.minHeight = '1px'\n      element.style.minWidth = '1px'\n    }\n\n    if (!matrix) {\n      return\n    }\n\n    const stringTransform = convertMatrix2dArrayToString(matrix)\n\n    // always apply transform, even if identity,\n    // because identity might be the starting state in a FLIP\n    // transition, if the element's position is controlled by transforms\n    element.style.transform = stringTransform\n\n    if (invertedChildren) {\n      invertTransformsForChildren({\n        invertedChildren,\n        matrix,\n        body\n      })\n    }\n  }\n\nexport const rectInViewport = ({\n  top,\n  bottom,\n  left,\n  right\n}: BoundingClientRect) => {\n  return (\n    top < window.innerHeight &&\n    bottom > 0 &&\n    left < window.innerWidth &&\n    right > 0\n  )\n}\n\nconst getInvertedChildren = (element: HTMLElement, id: string) =>\n  toArray(\n    element.querySelectorAll(`[${constants.DATA_INVERSE_FLIP_ID}=\"${id}\"]`)\n  )\n\nfunction extractFlipConfig(element: HTMLElement) {\n  const flipConfig = JSON.parse(element.dataset.flipConfig || '{}')\n  return flipConfig\n}\n\nexport default ({\n  flippedIds,\n  flipCallbacks,\n  inProgressAnimations,\n  flippedElementPositionsBeforeUpdate,\n  flippedElementPositionsAfterUpdate,\n  applyTransformOrigin,\n  spring,\n  getElement,\n  debug,\n  staggerConfig = {},\n  decisionData = {},\n  onComplete,\n  containerEl\n}: AnimateFlippedElementsArgs) => {\n  // the stuff below is used so we can return a promise that resolves when all FLIP animations have\n  // completed\n  let closureResolve: (flipIds: FlippedIds) => void\n\n  const flipCompletedPromise: Promise<FlippedIds> = new Promise(resolve => {\n    closureResolve = resolve\n  })\n  // hook for users of lib to attach logic when all flip animations have completed\n  if (onComplete) {\n    flipCompletedPromise.then(() => onComplete(containerEl, decisionData))\n  }\n  if (!flippedIds.length) {\n    return () => {\n      closureResolve!([])\n      return flipCompletedPromise\n    }\n  }\n\n  const completedAnimationIds: FlippedIds = []\n\n  const firstElement: HTMLElement = getElement(flippedIds[0])\n  // special handling for iframes\n  const body = firstElement\n    ? firstElement.ownerDocument!.querySelector('body')!\n    : document.querySelector('body')!\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (debug) {\n      // eslint-disable-next-line no-console\n      console.error(\n        '[react-flip-toolkit]\\nThe \"debug\" prop is set to true. All FLIP animations will return at the beginning of the transition.'\n      )\n    }\n  }\n\n  const duplicateFlipIds = getDuplicateValsAsStrings(flippedIds)\n  if (process.env.NODE_ENV !== 'production') {\n    if (duplicateFlipIds.length) {\n      // eslint-disable-next-line no-console\n      console.error(\n        `[react-flip-toolkit]\\nThere are currently multiple elements with the same flipId on the page.\\nThe animation will only work if each Flipped component has a unique flipId.\\nDuplicate flipId${\n          duplicateFlipIds.length > 1 ? 's' : ''\n        }: ${duplicateFlipIds.join('\\n')}`\n      )\n    }\n  }\n\n  const flipDataArray: FlipDataArray = flippedIds\n\n    // take all the measurements we need\n    // and return an object with animation functions + necessary data\n    .map(id => {\n      const prevRect = flippedElementPositionsBeforeUpdate[id].rect\n      const currentRect = flippedElementPositionsAfterUpdate[id].rect\n      const prevOpacity = flippedElementPositionsBeforeUpdate[id].opacity\n      const currentOpacity = flippedElementPositionsAfterUpdate[id].opacity\n      const needsForcedMinVals = currentRect.width < 1 || currentRect.height < 1\n      const element = flippedElementPositionsAfterUpdate[id].element\n\n      // don't animate elements outside of the user's viewport\n      if (!rectInViewport(prevRect) && !rectInViewport(currentRect)) {\n        return false\n      }\n\n      // this might happen if we are rapidly adding & removing elements(?)\n      if (!element) {\n        return false\n      }\n\n      const flipConfig = extractFlipConfig(element)\n\n      const springConfig = getSpringConfig({\n        flipperSpring: spring,\n        flippedSpring: flipConfig.spring\n      })\n\n      const stagger =\n        flipConfig.stagger === true ? 'default' : flipConfig.stagger\n\n      const toReturn = {\n        element,\n        id,\n        stagger,\n        springConfig\n      }\n\n      if (flipCallbacks[id] && flipCallbacks[id].shouldFlip) {\n        const elementShouldFlip = flipCallbacks[id].shouldFlip!(\n          decisionData.previous,\n          decisionData.current\n        )\n        if (!elementShouldFlip) {\n          return false\n        }\n      }\n\n      // don't animate elements that didn't visibly change\n      // but possibly animate their children\n\n      const translateXDifference = Math.abs(prevRect.left - currentRect.left)\n      const translateYDifference = Math.abs(prevRect.top - currentRect.top)\n\n      const translateDifference = translateXDifference + translateYDifference\n\n      const scaleXDifference = Math.abs(prevRect.width - currentRect.width)\n      const scaleYDifference = Math.abs(prevRect.height - currentRect.height)\n\n      const scaleDifference = scaleXDifference + scaleYDifference\n\n      const opacityDifference = Math.abs(currentOpacity - prevOpacity)\n      const differenceTooSmall =\n        translateDifference < 0.5 &&\n        scaleDifference < 0.5 &&\n        opacityDifference < 0.01\n\n      const hiddenDueToDimensions =\n        (prevRect.height === 0 && currentRect.height === 0) ||\n        (prevRect.width === 0 && currentRect.width === 0)\n      if (hiddenDueToDimensions || differenceTooSmall) {\n        return false\n      }\n\n      const currentTransform = Rematrix.parse(\n        flippedElementPositionsAfterUpdate[id].transform\n      )\n\n      const toVals: AnimatedVals = { matrix: currentTransform }\n\n      const fromVals: AnimatedVals = { matrix: [] }\n      const transformsArray = [currentTransform]\n\n      // we're only going to animate the values that the child wants animated\n      if (flipConfig.translate) {\n        transformsArray.push(\n          Rematrix.translateX(prevRect.left - currentRect.left)\n        )\n        transformsArray.push(\n          Rematrix.translateY(prevRect.top - currentRect.top)\n        )\n      }\n      // going any smaller than 1px breaks transitions in Chrome\n      if (flipConfig.scale) {\n        transformsArray.push(\n          Rematrix.scaleX(\n            Math.max(prevRect.width, 1) / Math.max(currentRect.width, 1)\n          )\n        )\n        transformsArray.push(\n          Rematrix.scaleY(\n            Math.max(prevRect.height, 1) / Math.max(currentRect.height, 1)\n          )\n        )\n      }\n\n      if (flipConfig.opacity) {\n        fromVals.opacity = prevOpacity\n        toVals.opacity = currentOpacity\n      }\n\n      let invertedChildren: InvertedChildren = []\n\n      if (\n        !flipCallbacks[id] ||\n        !flipCallbacks[id].shouldInvert ||\n        flipCallbacks[id].shouldInvert!(\n          decisionData.previous,\n          decisionData.current\n        )\n      ) {\n        const invertedChildElements = getInvertedChildren(element, id)\n        invertedChildren = invertedChildElements.map(c => [\n          c,\n          extractFlipConfig(c)\n        ]) as InvertedChildren\n      }\n\n      fromVals.matrix = convertMatrix3dArrayTo2dArray(\n        transformsArray.reduce(Rematrix.multiply)\n      )\n\n      toVals.matrix = convertMatrix3dArrayTo2dArray(toVals.matrix)\n\n      const applyStyles = createApplyStylesFunc({\n        element,\n        invertedChildren,\n        body\n      })\n\n      let onComplete: () => void\n      if (flipCallbacks[id] && flipCallbacks[id].onComplete) {\n        // must cache or else this could cause an error\n        const cachedOnComplete = flipCallbacks[id].onComplete\n        onComplete = () => cachedOnComplete!(element, decisionData)\n      }\n\n      // this should be called when animation ends naturally\n      // but also when it is interrupted\n      // when it is called, the animation has already been cancelled\n      const onAnimationEnd = (isCancellation: boolean) => {\n        delete inProgressAnimations[id]\n        if (isFunction(onComplete)) {\n          onComplete()\n        }\n        // remove identity transform -- this should have no effect on layout\n        element.style.transform = ''\n        invertedChildren.forEach(([element]) => {\n          element.style.transform = ''\n        })\n        if (needsForcedMinVals && element) {\n          element.style.minHeight = ''\n          element.style.minWidth = ''\n        }\n        if (isCancellation) return\n\n        completedAnimationIds.push(id)\n\n        if (completedAnimationIds.length >= flipDataArray.length) {\n          // we can theoretically call multiple times since a promise only resolves 1x\n          // but that shouldnt happen\n          closureResolve(completedAnimationIds)\n        }\n      }\n\n      const animateOpacity =\n        isNumber(fromVals.opacity) &&\n        isNumber(toVals.opacity) &&\n        fromVals.opacity !== toVals.opacity\n\n      let onStartCalled = false\n\n      const getOnUpdateFunc: GetOnUpdateFunc = ({ spring, onAnimationEnd }) => {\n        inProgressAnimations[id] = {\n          destroy: spring.destroy.bind(spring),\n          onAnimationEnd\n        }\n        const onUpdate: OnUpdate = spring => {\n          if (flipCallbacks[id] && flipCallbacks[id].onSpringUpdate) {\n            flipCallbacks[id].onSpringUpdate!(spring.getCurrentValue())\n          }\n          // trigger the user provided onStart function\n          if (!onStartCalled) {\n            onStartCalled = true\n            if (flipCallbacks[id] && flipCallbacks[id].onStart) {\n              flipCallbacks[id].onStart!(element, decisionData)\n            }\n          }\n\n          const currentValue = spring.getCurrentValue()\n          if (!body.contains(element)) {\n            spring.destroy()\n            return\n          }\n\n          const vals: AnimatedVals = { matrix: [] }\n\n          vals.matrix = fromVals.matrix.map((fromVal, index) =>\n            tweenProp(fromVal, toVals.matrix[index], currentValue)\n          )\n\n          if (animateOpacity) {\n            vals.opacity = tweenProp(\n              fromVals.opacity!,\n              toVals.opacity!,\n              currentValue\n            )\n          }\n          applyStyles(vals)\n        }\n        return onUpdate\n      }\n\n      const initializeFlip: InitializeFlip = () => {\n        // before animating, immediately apply FLIP styles to prevent flicker\n        applyStyles({\n          matrix: fromVals.matrix,\n          opacity: animateOpacity ? fromVals.opacity : undefined,\n          forceMinVals: needsForcedMinVals\n        })\n\n        if (flipCallbacks[id] && flipCallbacks[id].onStartImmediate) {\n          flipCallbacks[id].onStartImmediate!(element, decisionData)\n        }\n        // and batch any other style updates if necessary\n        if (flipConfig.transformOrigin) {\n          element.style.transformOrigin = flipConfig.transformOrigin\n        } else if (applyTransformOrigin) {\n          element.style.transformOrigin = '0 0'\n        }\n\n        invertedChildren.forEach(([child, childFlipConfig]) => {\n          if (childFlipConfig.transformOrigin) {\n            child.style.transformOrigin = childFlipConfig.transformOrigin\n          } else if (applyTransformOrigin) {\n            child.style.transformOrigin = '0 0'\n          }\n        })\n      }\n\n      return assign({}, toReturn, {\n        stagger,\n        springConfig,\n        getOnUpdateFunc,\n        initializeFlip,\n        onAnimationEnd,\n        delayUntil: flipConfig.delayUntil\n      }) as FlipData\n    })\n    // filter out data for all non-animated elements first\n    .filter(Boolean) as FlipDataArray\n\n  flipDataArray.forEach(({ initializeFlip }) => initializeFlip())\n\n  if (debug) {\n    return () => {}\n  }\n\n  const elementIsFlipped = (flipId: FlipId) =>\n    flipDataArray.filter(f => f.id === flipId).length\n\n  const delayedFlip = flipDataArray.filter(\n    f => f.delayUntil && elementIsFlipped(f.delayUntil)\n  )\n\n  // key: flipId value: flip to delay until key is called\n  const delayUntilSprings = {} as IndexableObject\n  // key: flipId value: stagger to delay until key is called\n  const delayUntilStaggers = {} as IndexableObject\n  // key: stagger value: true\n  const delayedStaggerKeys = {} as IndexableObject\n\n  delayedFlip.forEach(flip => {\n    if (flip.stagger) {\n      delayedStaggerKeys[flip.stagger] = true\n      if (delayUntilStaggers[flip.delayUntil!])\n        delayUntilStaggers[flip.delayUntil!].push(flip.stagger)\n      else delayUntilStaggers[flip.delayUntil!] = [flip.stagger]\n    } else {\n      if (delayUntilSprings[flip.delayUntil!])\n        delayUntilSprings[flip.delayUntil!].push(flip)\n      else delayUntilSprings[flip.delayUntil!] = [flip]\n    }\n  })\n\n  const staggerDict = flipDataArray\n    .filter(flipData => flipData.stagger)\n    .reduce((acc, curr) => {\n      if (acc[curr.stagger]) {\n        acc[curr.stagger].push(curr)\n      } else {\n        acc[curr.stagger] = [curr]\n      }\n      return acc\n    }, {} as IndexableObject)\n\n  const immediateFlip = flipDataArray.filter(f => delayedFlip.indexOf(f) === -1)\n\n  immediateFlip.forEach(flipData => {\n    flipData.onSpringActivate = () => {\n      if (delayUntilSprings[flipData.id]) {\n        delayUntilSprings[flipData.id].forEach(createSpring)\n      }\n      if (delayUntilStaggers[flipData.id]) {\n        const uniqueStaggerKeys = Object.keys(\n          delayUntilStaggers[flipData.id].reduce(\n            (acc: IndexableObject, curr: string) =>\n              assign(acc, { [curr]: true }),\n            {}\n          )\n        )\n        uniqueStaggerKeys.forEach((staggerKey: string) => {\n          createStaggeredSprings(\n            staggerDict[staggerKey],\n            staggerConfig[staggerKey]\n          )\n        })\n      }\n    }\n  })\n\n  return () => {\n    // if there are no active FLIP animations, immediately resolve the\n    // returned promise\n    if (!flipDataArray.length) {\n      closureResolve([])\n    }\n    // animate non-staggered elements\n    immediateFlip\n      .filter(flipData => {\n        return !flipData.stagger\n      })\n      .forEach(createSpring)\n\n    // animate staggered elements\n    Object.keys(staggerDict).forEach(staggerKey => {\n      if (delayedStaggerKeys[staggerKey]) return\n      createStaggeredSprings(staggerDict[staggerKey], staggerConfig[staggerKey])\n    })\n    return flipCompletedPromise\n  }\n}\n","import { toArray, assign } from '../../utilities'\nimport * as constants from '../../constants'\nimport { BoundingClientRect } from './types'\n\nexport const addTupleToObject = <T>(\n  acc: Record<string, T>,\n  curr: [string, T]\n): Record<string, T> => assign(acc, { [curr[0]]: curr[1] })\n\nexport const getAllElements = (\n  element?: HTMLElement,\n  portalKey?: string\n): HTMLElement[] => {\n  if (portalKey) {\n    return toArray(\n      document.querySelectorAll(`[${constants.DATA_PORTAL_KEY}=\"${portalKey}\"]`)\n    )\n  } else {\n    return toArray(element!.querySelectorAll(`[${constants.DATA_FLIP_ID}]`))\n  }\n}\nexport const getRects = (\n  flippedElements: HTMLElement[]\n): [HTMLElement, BoundingClientRect][] => {\n  return flippedElements.map(\n    (child: HTMLElement): [HTMLElement, BoundingClientRect] => [\n      child,\n      child.getBoundingClientRect()\n    ]\n  )\n}\n","import animateUnflippedElements from './animateUnflippedElements'\nimport animateFlippedElements from './animateFlippedElements'\nimport getFlippedElementPositionsAfterUpdate from './getFlippedElementPositions/getFlippedElementPositionsAfterUpdate'\nimport * as constants from '../constants'\nimport { assign, toArray } from '../utilities'\nimport {\n  GetElement,\n  BaseFlipArgs,\n  OnFlipKeyUpdateArgs,\n  FlippedIds\n} from './types'\nimport { AnimateUnflippedElementsArgs } from './animateUnflippedElements/types'\nimport {\n  AnimateFlippedElementsArgs,\n  ScopedSelector\n} from './animateFlippedElements/types'\n\nconst createPortalScopedSelector =\n  (portalKey: string) => (selector: string) => {\n    return toArray(\n      document.querySelectorAll(\n        `[${constants.DATA_PORTAL_KEY}=\"${portalKey}\"]${selector}`\n      )\n    )\n  }\nconst createFlipperScopedSelector = (containerEl: HTMLElement) => {\n  const tempFlipperId = Math.random().toFixed(5)\n  containerEl.dataset.flipperId = tempFlipperId\n\n  return (selector: string) => {\n    return toArray(\n      containerEl.querySelectorAll(\n        `[data-flipper-id=\"${tempFlipperId}\"] ${selector}`\n      )\n    )\n  }\n}\nconst createScopedSelector = ({\n  containerEl,\n  portalKey\n}: {\n  containerEl?: HTMLElement\n  portalKey?: string\n}): ScopedSelector => {\n  if (portalKey) {\n    return createPortalScopedSelector(portalKey)\n  } else if (containerEl) {\n    return createFlipperScopedSelector(containerEl)\n  } else {\n    return () => []\n  }\n}\n\nconst createGetElementFunc = (scopedSelector: ScopedSelector): GetElement => {\n  return (id: string) => {\n    return scopedSelector(`[${constants.DATA_FLIP_ID}=\"${id}\"]`)[0]\n  }\n}\n\nconst onFlipKeyUpdate = ({\n  cachedOrderedFlipIds = [],\n  inProgressAnimations = {},\n  flippedElementPositionsBeforeUpdate = {},\n  flipCallbacks = {},\n  containerEl,\n  applyTransformOrigin,\n  spring,\n  debug,\n  portalKey,\n  staggerConfig = {},\n  decisionData = {},\n  handleEnterUpdateDelete,\n  onComplete,\n  onStart\n}: OnFlipKeyUpdateArgs) => {\n  const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)')\n  if (mediaQuery.matches) return\n  const flippedElementPositionsAfterUpdate =\n    getFlippedElementPositionsAfterUpdate({\n      element: containerEl,\n      portalKey\n    })\n\n  const scopedSelector = createScopedSelector({\n    containerEl,\n    portalKey\n  })\n  const getElement = createGetElementFunc(scopedSelector)\n\n  const isFlipped = (id: string) =>\n    flippedElementPositionsBeforeUpdate[id] &&\n    flippedElementPositionsAfterUpdate[id]\n\n  const unflippedIds = Object.keys(flippedElementPositionsBeforeUpdate)\n    .concat(Object.keys(flippedElementPositionsAfterUpdate))\n    .filter(id => !isFlipped(id))\n\n  const baseArgs: BaseFlipArgs = {\n    flipCallbacks,\n    getElement,\n    flippedElementPositionsBeforeUpdate,\n    flippedElementPositionsAfterUpdate,\n    inProgressAnimations,\n    decisionData\n  }\n\n  const animateUnFlippedElementsArgs = assign({}, baseArgs, {\n    unflippedIds\n  }) as AnimateUnflippedElementsArgs\n\n  const {\n    hideEnteringElements,\n    animateEnteringElements,\n    animateExitingElements\n  } = animateUnflippedElements(animateUnFlippedElementsArgs)\n\n  const flippedIds: FlippedIds = cachedOrderedFlipIds.filter(isFlipped)\n  // @ts-ignore\n  const animateFlippedElementsArgs: AnimateFlippedElementsArgs = assign(\n    {},\n    baseArgs,\n    {\n      containerEl,\n      flippedIds,\n      applyTransformOrigin,\n      spring,\n      debug,\n      staggerConfig,\n      scopedSelector,\n      onComplete\n    }\n  )\n  if (onStart) onStart(containerEl, decisionData)\n\n  // the function handles putting flipped elements back in their original positions\n  // and returns another function to actually call the flip animation\n  const flip = animateFlippedElements(animateFlippedElementsArgs)\n\n  if (handleEnterUpdateDelete) {\n    handleEnterUpdateDelete({\n      hideEnteringElements,\n      animateEnteringElements,\n      animateExitingElements,\n      animateFlippedElements: flip\n    })\n  } else {\n    hideEnteringElements()\n    animateExitingElements().then(animateEnteringElements)\n    flip()\n  }\n}\n\nexport default onFlipKeyUpdate\n","import { addTupleToObject, getRects, getAllElements } from '../utilities'\nimport {\n  FlippedElementPositionsAfterUpdate,\n  FlippedElementPositionDatumAfterUpdate\n} from './types'\n\nconst getFlippedElementPositionsAfterUpdate = ({\n  element,\n  portalKey\n}: {\n  element: HTMLElement\n  portalKey?: string\n}): FlippedElementPositionsAfterUpdate => {\n  const positionArray = getRects(getAllElements(element, portalKey)).map(\n    ([child, childBCR]) => {\n      const computedStyle = window.getComputedStyle(child)\n      return [\n        child.dataset.flipId,\n        {\n          element: child,\n          rect: childBCR,\n          opacity: parseFloat(computedStyle.opacity!),\n          transform: computedStyle.transform\n        }\n      ]\n    }\n  ) as [string, FlippedElementPositionDatumAfterUpdate][]\n\n  return positionArray.reduce(addTupleToObject, {})\n}\n\nexport default getFlippedElementPositionsAfterUpdate\n","import { AnimateUnflippedElementsArgs, FragmentTuple } from './types'\n\nconst animateUnflippedElements = ({\n  unflippedIds,\n  flipCallbacks,\n  getElement,\n  flippedElementPositionsBeforeUpdate,\n  flippedElementPositionsAfterUpdate,\n  inProgressAnimations,\n  decisionData\n}: AnimateUnflippedElementsArgs) => {\n  const enteringElementIds = unflippedIds.filter(\n    id => flippedElementPositionsAfterUpdate[id]\n  )\n  const animatedEnteringElementIds = enteringElementIds.filter(\n    id => flipCallbacks[id] && flipCallbacks[id].onAppear\n  )\n\n  const animatedExitingElementIds = unflippedIds.filter(\n    id =>\n      flippedElementPositionsBeforeUpdate[id] &&\n      flipCallbacks[id] &&\n      flipCallbacks[id].onExit\n  )\n\n  const hideEnteringElements = () => {\n    animatedEnteringElementIds.forEach(id => {\n      const element = getElement(id)\n      if (element) {\n        element.style.opacity = '0'\n      }\n    })\n  }\n\n  const animateEnteringElements = () => {\n    animatedEnteringElementIds.forEach((id, i) => {\n      const element = getElement(id)\n      if (element) {\n        flipCallbacks[id].onAppear!(element, i, decisionData)\n      }\n    })\n  }\n\n  let closureResolve: () => void\n\n  const promiseToReturn: Promise<void> = new Promise(resolve => {\n    closureResolve = resolve\n  })\n\n  const fragmentTuples: FragmentTuple[] = []\n  let exitingElementCount = 0\n\n  const onExitCallbacks = animatedExitingElementIds.map((id, i) => {\n    const {\n      domDataForExitAnimations: {\n        element,\n        parent,\n        childPosition: { top, left, width, height }\n      }\n    } = flippedElementPositionsBeforeUpdate[id]\n    // insert back into dom\n    if (getComputedStyle(parent).position === 'static') {\n      parent.style.position = 'relative'\n    }\n    element.style.transform = 'matrix(1, 0, 0, 1, 0, 0)'\n    element.style.position = 'absolute'\n    element.style.top = top + 'px'\n    element.style.left = left + 'px'\n    // taken out of the dom flow, the element might have lost these dimensions\n    element.style.height = height + 'px'\n    element.style.width = width + 'px'\n    let fragmentTuple: FragmentTuple | undefined = fragmentTuples.filter(\n      t => t[0] === parent\n    )[0]\n    if (!fragmentTuple) {\n      fragmentTuple = [parent, document.createDocumentFragment()]\n      fragmentTuples.push(fragmentTuple)\n    }\n    fragmentTuple[1].appendChild(element)\n\n    exitingElementCount += 1\n\n    const stop = () => {\n      try {\n        parent.removeChild(element)\n      } catch (DOMException) {\n        // the element is already gone\n      } finally {\n        exitingElementCount -= 1\n        if (exitingElementCount === 0) {\n          closureResolve()\n        }\n      }\n    }\n    // @ts-ignore\n    inProgressAnimations[id] = { stop }\n    return () => flipCallbacks[id].onExit!(element, i, stop, decisionData)\n  })\n\n  // now append all the fragments from the onExit callbacks\n  // (we use fragments for performance)\n  fragmentTuples.forEach(t => {\n    t[0].appendChild(t[1])\n  })\n\n  if (!onExitCallbacks.length) {\n    closureResolve!()\n  }\n\n  const animateExitingElements = () => {\n    onExitCallbacks.forEach(c => c())\n    return promiseToReturn\n  }\n\n  return {\n    hideEnteringElements,\n    animateEnteringElements,\n    animateExitingElements\n  }\n}\n\nexport default animateUnflippedElements\n","import { addTupleToObject, getAllElements, getRects } from '../utilities'\nimport * as constants from '../../../constants'\nimport { toArray, assign } from '../../../utilities'\nimport {\n  FlippedElementPositionsBeforeUpdateReturnVals,\n  FlippedElementPositionDatumBeforeUpdate,\n  GetFlippedElementPositionsBeforeUpdateArgs,\n  ParentBCRs,\n  ChildIdsToParentBCRs,\n  ChildIdsToParents\n} from './types'\nimport { InProgressAnimations } from '../../../types'\n\nexport const cancelInProgressAnimations = (\n  inProgressAnimations: InProgressAnimations,\n  animatingElements: HTMLElement[]\n) => {\n  Object.keys(inProgressAnimations).forEach(id => {\n    if (inProgressAnimations[id].destroy) {\n      inProgressAnimations[id].destroy!()\n    }\n    if (inProgressAnimations[id].onAnimationEnd) {\n      inProgressAnimations[id].onAnimationEnd!(true)\n    }\n    delete inProgressAnimations[id]\n  })\n  animatingElements.forEach(el => {\n    el.style.transform = ''\n    el.style.opacity = ''\n  })\n}\n\nconst getFlippedElementPositionsBeforeUpdate = ({\n  element,\n  flipCallbacks = {},\n  inProgressAnimations = {},\n  portalKey\n}: GetFlippedElementPositionsBeforeUpdateArgs): FlippedElementPositionsBeforeUpdateReturnVals => {\n  const flippedElements = getAllElements(element, portalKey)\n\n  const inverseFlippedElements = toArray(\n    element.querySelectorAll(`[${constants.DATA_INVERSE_FLIP_ID}]`)\n  )\n\n  const childIdsToParentBCRs: ChildIdsToParentBCRs = {}\n  const parentBCRs: ParentBCRs = []\n  const childIdsToParents: ChildIdsToParents = {}\n  // this is for exit animations so we can re-insert exiting elements in the\n  // DOM later\n  flippedElements\n    .filter(\n      el =>\n        flipCallbacks &&\n        flipCallbacks[el.dataset.flipId!] &&\n        flipCallbacks[el.dataset.flipId!].onExit\n    )\n    .forEach(el => {\n      let parent = el.parentNode as HTMLElement\n      // this won't work for IE11\n      if (el.closest) {\n        const exitContainer = el.closest(\n          `[${constants.DATA_EXIT_CONTAINER}]`\n        ) as HTMLElement\n        if (exitContainer) {\n          parent = exitContainer\n        }\n      }\n      let bcrIndex = parentBCRs.findIndex(n => n[0] === parent)\n      if (bcrIndex === -1) {\n        parentBCRs.push([parent, parent.getBoundingClientRect()])\n        bcrIndex = parentBCRs.length - 1\n      }\n      childIdsToParentBCRs[el.dataset.flipId!] = parentBCRs[bcrIndex][1]\n      childIdsToParents[el.dataset.flipId!] = parent\n    })\n\n  const filteredFlippedElements = getRects(flippedElements)\n\n  const flippedElementPositionsTupleArray: [\n    string,\n    FlippedElementPositionDatumBeforeUpdate\n  ][] = filteredFlippedElements.map(([child, childBCR]) => {\n    const domDataForExitAnimations = {}\n\n    // only cache extra data for exit animations\n    // if the element has an onExit listener\n    if (\n      flipCallbacks &&\n      flipCallbacks[child.dataset.flipId!] &&\n      flipCallbacks[child.dataset.flipId!].onExit\n    ) {\n      const parentBCR = childIdsToParentBCRs[child.dataset.flipId!]\n\n      assign(domDataForExitAnimations, {\n        element: child,\n        parent: childIdsToParents[child.dataset.flipId!],\n        childPosition: {\n          top: childBCR.top - parentBCR.top,\n          left: childBCR.left - parentBCR.left,\n          width: childBCR.width,\n          height: childBCR.height\n        }\n      })\n    }\n\n    return [\n      child.dataset.flipId!,\n      {\n        rect: childBCR,\n        opacity: parseFloat(window.getComputedStyle(child).opacity || '1'),\n        domDataForExitAnimations\n      }\n    ]\n  }) as [string, FlippedElementPositionDatumBeforeUpdate][]\n\n  const flippedElementPositions = flippedElementPositionsTupleArray.reduce(\n    addTupleToObject,\n    {}\n  )\n\n  // do this at the very end since we want to cache positions of elements\n  // while they are mid-transition\n  cancelInProgressAnimations(\n    inProgressAnimations,\n    flippedElements.concat(inverseFlippedElements)\n  )\n\n  return {\n    flippedElementPositions,\n    cachedOrderedFlipIds: filteredFlippedElements.map(\n      ([el]) => el.dataset.flipId!\n    )\n  }\n}\n\nexport default getFlippedElementPositionsBeforeUpdate\n","// this is exclusively for users of the library to create their own enter + exit animations\nimport { SpringSystem } from '../forked-rebound'\nimport { SpringSystemInterface } from '../forked-rebound/types.d'\nimport { tweenProp, assign } from '../utilities'\nimport { normalizeSpring, springPresets } from '../springSettings'\nimport { SimpleSpringOptions } from './types'\nimport { SpringConfig } from '../springSettings/types'\n\n// this should get created only 1x\nconst springSystem: SpringSystemInterface = new SpringSystem()\n\n/**\n * A simple spring function for animating DOM properties.\n * Returns a function that will immediately cancel the in-progress animation.\n * */\nconst createSimpleSpring = ({\n  config,\n  values,\n  onUpdate,\n  delay = 0,\n  onComplete\n}: SimpleSpringOptions) => {\n  const { stiffness, damping, overshootClamping } = assign(\n    {},\n    springPresets.noWobble,\n    normalizeSpring(config)\n  ) as SpringConfig\n  const spring = springSystem.createSpring(stiffness!, damping!)\n  spring.setOvershootClampingEnabled(!!overshootClamping)\n  spring.addListener({\n    onSpringAtRest: spring => {\n      if (onComplete) onComplete()\n      spring.destroy()\n    },\n    onSpringUpdate: spring => {\n      const springVal = spring.getCurrentValue()\n      if (!values) return onUpdate(springVal)\n      const currentValues = Object.keys(values)\n        .map(value => [\n          value,\n          tweenProp(values[value][0], values[value][1], springVal)\n        ])\n        .reduce((acc, curr) => {\n          return Object.assign(acc, { [curr[0]]: curr[1] })\n        }, {})\n      onUpdate(currentValues)\n    }\n  })\n  if (delay) {\n    setTimeout(() => {\n      spring.setEndValue(1)\n    }, delay)\n  } else {\n    spring.setEndValue(1)\n  }\n  return spring\n}\n\nexport default createSimpleSpring\n","import { createContext } from 'react'\nimport { FlipCallbacks } from 'flip-toolkit/lib/types'\n\nexport const FlipContext = createContext({} as FlipCallbacks)\nexport const PortalContext = createContext('portal')\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  getFlippedElementPositionsBeforeUpdate,\n  onFlipKeyUpdate\n} from 'flip-toolkit'\nimport {\n  FlipperProps,\n  InProgressAnimations,\n  FlipCallbacks\n} from 'flip-toolkit/lib/types'\nimport { FlippedElementPositionsBeforeUpdateReturnVals } from 'flip-toolkit/lib/flip/getFlippedElementPositions/getFlippedElementPositionsBeforeUpdate/types'\nimport { FlipContext, PortalContext } from './context'\n\nclass Flipper extends Component<FlipperProps> {\n  static defaultProps = {\n    applyTransformOrigin: true,\n    element: 'div'\n  }\n\n  private inProgressAnimations: InProgressAnimations = {}\n  private flipCallbacks: FlipCallbacks = {}\n  private el?: HTMLElement = undefined\n\n  getSnapshotBeforeUpdate(prevProps: FlipperProps) {\n    if (prevProps.flipKey !== this.props.flipKey && this.el) {\n      return getFlippedElementPositionsBeforeUpdate({\n        element: this.el,\n        // if onExit callbacks exist here, we'll cache the DOM node\n        flipCallbacks: this.flipCallbacks,\n        inProgressAnimations: this.inProgressAnimations,\n        portalKey: this.props.portalKey\n      })\n    }\n    return null\n  }\n\n  componentDidUpdate(\n    prevProps: FlipperProps,\n    _prevState: any,\n    cachedData: FlippedElementPositionsBeforeUpdateReturnVals\n  ) {\n    if (this.props.flipKey !== prevProps.flipKey && this.el) {\n      onFlipKeyUpdate({\n        flippedElementPositionsBeforeUpdate: cachedData.flippedElementPositions,\n        cachedOrderedFlipIds: cachedData.cachedOrderedFlipIds,\n        containerEl: this.el,\n        inProgressAnimations: this.inProgressAnimations,\n        flipCallbacks: this.flipCallbacks,\n        applyTransformOrigin: this.props.applyTransformOrigin,\n        spring: this.props.spring,\n        debug: this.props.debug,\n        portalKey: this.props.portalKey,\n        staggerConfig: this.props.staggerConfig,\n        handleEnterUpdateDelete: this.props.handleEnterUpdateDelete,\n        decisionData: {\n          previous: prevProps.decisionData,\n          current: this.props.decisionData\n        },\n        onComplete: this.props.onComplete,\n        onStart: this.props.onStart\n      })\n    }\n  }\n\n  public render() {\n    const { element, className, portalKey } = this.props\n    const Element = element\n\n    let flipperMarkup = (\n      <FlipContext.Provider value={this.flipCallbacks}>\n        {/*\n        // @ts-ignore */}\n        <Element\n          className={className}\n          ref={(el: HTMLElement) => (this.el = el)}\n        >\n          {this.props.children}\n        </Element>\n      </FlipContext.Provider>\n    )\n\n    if (portalKey) {\n      flipperMarkup = (\n        <PortalContext.Provider value={portalKey}>\n          {flipperMarkup}\n        </PortalContext.Provider>\n      )\n    }\n\n    return flipperMarkup\n  }\n}\n// @ts-ignore\n\nif (process.env.NODE_ENV !== 'production') {\n  // @ts-ignore\n  Flipper.propTypes = {\n    flipKey: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n      PropTypes.bool\n    ]),\n    children: PropTypes.node.isRequired,\n    spring: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    applyTransformOrigin: PropTypes.bool,\n    debug: PropTypes.bool,\n    element: PropTypes.string,\n    className: PropTypes.string,\n    portalKey: PropTypes.string,\n    staggerConfig: PropTypes.object,\n    decisionData: PropTypes.any,\n    handleEnterUpdateDelete: PropTypes.func,\n    onComplete: PropTypes.func,\n    onStart: PropTypes.func\n  }\n}\n\nexport default Flipper\n","import React, {\n  FunctionComponent,\n  Children,\n  cloneElement,\n  ReactElement\n} from 'react'\nimport PropTypes from 'prop-types'\nimport { utilities, constants } from 'flip-toolkit'\nimport { FlippedProps, SerializableFlippedProps } from 'flip-toolkit/lib/types'\nimport { FlipContext, PortalContext } from '../Flipper/context'\n\nfunction isFunction(child: any): child is Function {\n  return typeof child === 'function'\n}\n\n// This wrapper creates child components for the main Flipper component\nexport const Flipped: FunctionComponent<SerializableFlippedProps> = ({\n  children,\n  flipId,\n  inverseFlipId,\n  portalKey,\n  ...rest\n}) => {\n  let child = children\n  const isFunctionAsChildren = isFunction(child)\n\n  if (!isFunctionAsChildren) {\n    try {\n      child = Children.only(children)\n    } catch (e) {\n      throw new Error('Each Flipped component must wrap a single child')\n    }\n  }\n\n  // if nothing is being animated, assume everything is being animated\n  if (!rest.scale && !rest.translate && !rest.opacity) {\n    utilities.assign(rest, {\n      translate: true,\n      scale: true,\n      opacity: true\n    })\n  }\n\n  const dataAttributes: Record<string, string | undefined> = {\n    [constants.DATA_FLIP_CONFIG]: JSON.stringify(rest)\n  }\n\n  if (flipId !== undefined)\n    dataAttributes[constants.DATA_FLIP_ID] = String(flipId)\n  else if (inverseFlipId)\n    dataAttributes[constants.DATA_INVERSE_FLIP_ID] = String(inverseFlipId)\n  if (portalKey !== undefined) {\n    dataAttributes[constants.DATA_PORTAL_KEY] = portalKey\n  }\n  if (isFunctionAsChildren) {\n    return (child as Function)(dataAttributes)\n  }\n  return cloneElement(child as ReactElement<any>, dataAttributes)\n}\n// @ts-ignore\nexport const FlippedWithContext: FunctionComponent<FlippedProps> = ({\n  children,\n  flipId,\n  shouldFlip,\n  shouldInvert,\n  onAppear,\n  onStart,\n  onStartImmediate,\n  onComplete,\n  onExit,\n  onSpringUpdate,\n  ...rest\n}) => {\n  if (!children) {\n    return null\n  }\n  if (rest.inverseFlipId) {\n    return <Flipped {...rest}>{children}</Flipped>\n  }\n\n  return (\n    <PortalContext.Consumer>\n      {portalKey => (\n        <FlipContext.Consumer>\n          {data => {\n            // if there is no surrounding Flipper component,\n            // we don't want to throw an error, so check\n            // that data exists and is not the default string\n            if (utilities.isObject(data) && flipId) {\n              data[flipId] = {\n                shouldFlip,\n                shouldInvert,\n                onAppear,\n                onStart,\n                onStartImmediate,\n                onComplete,\n                onExit,\n                onSpringUpdate\n              }\n            }\n            return (\n              <Flipped flipId={flipId} {...rest} portalKey={portalKey}>\n                {children}\n              </Flipped>\n            )\n          }}\n        </FlipContext.Consumer>\n      )}\n    </PortalContext.Consumer>\n  )\n}\nif (process.env.NODE_ENV !== 'production') {\n  FlippedWithContext.propTypes = {\n    // @ts-expect-error\n    children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n    inverseFlipId: PropTypes.string,\n    flipId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    opacity: PropTypes.bool,\n    translate: PropTypes.bool,\n    scale: PropTypes.bool,\n    transformOrigin: PropTypes.string,\n    spring: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    onStart: PropTypes.func,\n    onStartImmediate: PropTypes.func,\n    onComplete: PropTypes.func,\n    onAppear: PropTypes.func,\n    onSpringUpdate: PropTypes.func,\n    shouldFlip: PropTypes.func,\n    shouldInvert: PropTypes.func,\n    onExit: PropTypes.func,\n    portalKey: PropTypes.string,\n    stagger: PropTypes.oneOfType([PropTypes.string, PropTypes.bool])\n  }\n}\n\nFlippedWithContext.displayName = 'Flipped'\n\nexport default FlippedWithContext\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;"],"names":["Marquee","React","forwardRef","_ref","ref","_ref$style","style","_ref$className","className","_ref$autoFill","autoFill","_ref$play","play","_ref$pauseOnHover","pauseOnHover","_ref$pauseOnClick","pauseOnClick","_ref$direction","direction","_ref$speed","speed","_ref$delay","delay","_ref$loop","loop","_ref$gradient","gradient","_ref$gradientColor","gradientColor","_ref$gradientWidth","gradientWidth","onFinish","onCycleComplete","onMount","children","_React$useState","useState","_React$useState2","_slicedToArray","containerWidth","setContainerWidth","_React$useState3","_React$useState4","marqueeWidth","setMarqueeWidth","_React$useState5","_React$useState6","multiplier","setMultiplier","_React$useState7","_React$useState8","isMounted","setIsMounted","rootRef","useRef","containerRef","marqueeRef","calculateWidth","useCallback","current","containerRect","getBoundingClientRect","marqueeRect","width","height","Math","ceil","useEffect","resizeObserver","ResizeObserver","observe","disconnect","duration","useMemo","containerStyle","_Object$assign","Object","assign","_defineProperty","gradientStyle","_ref2","concat","marqueeStyle","_ref3","childStyle","multiplyChildren","_toConsumableArray","Array","Number","isFinite","map","_","i","React__default","createElement","Fragment","key","Children","child","onAnimationIteration","onAnimationEnd","format","source","constructor","TypeError","length","matrix","identity","RangeError","push","multiply","m","x","fm","fx","product","row","j","k","col","result","e","t","n","prototype","toString","call","r","slice","apply","s","reduce","keys","filter","a","arguments","forEach","hasOwnProperty","o","l","p","__proto__","isNumber","isFunction","isObject","toArray","getDuplicateValsAsStrings","tweenProp","c","u","d","f","h","g","noWobble","stiffness","damping","gentle","veryGentle","wobbly","stiff","indexOf","window","requestAnimationFrame","v","setTimeout","y","Date","now","performance","S","splice","E","run","springSystem","A","this","position","velocity","C","b","I","_id","_springSystem","listeners","_startValue","_currentState","_displacementFromRestThreshold","_endValue","_overshootClampingEnabled","_previousState","_restSpeedThreshold","_tempState","_timeAccumulator","_wasAtRest","_cachedSpringConfig","getId","destroy","deregisterSpring","setSpringConfig","_springConfig","getCurrentValue","getDisplacementDistanceForState","abs","setEndValue","prevEndValue","isAtRest","activateSpring","onSpringEndStateChange","setVelocity","setCurrentValue","onSpringUpdate","setAtRest","setOvershootClampingEnabled","isOvershooting","tension","advance","friction","_interpolate","notifyPositionUpdated","Boolean","onSpringActivate","_onActivateCalled","onSpringAtRest","systemShouldAdvance","wasAtRest","addListener","addOneTimeListener","removeListener","w","looper","_activeSprings","_idleSpringIndices","_isIdle","_lastTimeMillis","_springRegistry","createSpring","createSpringWithConfig","registerSpring","getIsIdle","pop","onBeforeIntegrate","onAfterIntegrate","O","springConfig","overshootClamping","getOnUpdateFunc","spring","U","V","reverse","min","max","bind","F","P","top","innerHeight","bottom","left","innerWidth","right","D","JSON","parse","dataset","flipConfig","R","T","document","querySelectorAll","M","cachedOrderedFlipIds","inProgressAnimations","flippedElementPositionsBeforeUpdate","flipCallbacks","containerEl","applyTransformOrigin","debug","portalKey","staggerConfig","decisionData","handleEnterUpdateDelete","B","onComplete","N","onStart","matchMedia","matches","L","q","element","getComputedStyle","flipId","rect","opacity","parseFloat","transform","X","random","toFixed","flipperId","Y","W","K","H","getElement","flippedElementPositionsAfterUpdate","J","unflippedIds","onAppear","onExit","Promise","domDataForExitAnimations","parent","childPosition","createDocumentFragment","appendChild","removeChild","stop","hideEnteringElements","animateEnteringElements","animateExitingElements","z","G","Q","Z","flippedIds","scopedSelector","$","then","ownerDocument","querySelector","flipperSpring","flippedSpring","stagger","id","shouldFlip","previous","match","split","translate","distance","scale","scalar","shouldInvert","invertedChildren","body","forceMinVals","minHeight","minWidth","join","contains","translateX","translateY","scaleX","scaleY","initializeFlip","onStartImmediate","transformOrigin","delayUntil","animateFlippedElements","parentNode","closest","findIndex","flippedElementPositions","el","create","getSnapshotBeforeUpdate","flipKey","props","componentDidUpdate","render","Provider","value","defaultProps","inverseFlipId","only","Error","stringify","String","Consumer","displayName","module","exports","arr","len","arr2","__esModule","isArray","arrayLikeToArray","toPropertyKey","obj","defineProperty","enumerable","configurable","writable","iter","Symbol","iterator","from","next","done","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","_typeof","input","hint","prim","toPrimitive","undefined","res","arg","minLen","name","test"],"sourceRoot":""}